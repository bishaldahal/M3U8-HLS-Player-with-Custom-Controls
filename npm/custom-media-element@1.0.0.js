/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/custom-media-element@1.0.0/custom-media-element.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
const t=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","waitingforkey","resize","enterpictureinpicture","leavepictureinpicture","webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"],e=globalThis.document?.createElement("template");e&&(e.innerHTML="\n    <style>\n      :host {\n        display: inline-block;\n        line-height: 0;\n      }\n\n      audio {\n        max-width: 100%;\n        max-height: 100%;\n        min-width: 100%;\n        min-height: 100%;\n      }\n    </style>\n    <slot></slot>\n  ");const i=globalThis.document?.createElement("template");i&&(i.innerHTML="\n    <style>\n      :host {\n        display: inline-block;\n        line-height: 0;\n      }\n\n      video {\n        max-width: 100%;\n        max-height: 100%;\n        min-width: 100%;\n        min-height: 100%;\n        object-fit: var(--media-object-fit, contain);\n        object-position: var(--media-object-position, 50% 50%);\n      }\n\n      video::-webkit-media-text-track-container {\n        transform: var(--media-webkit-text-track-transform);\n        transition: var(--media-webkit-text-track-transition);\n      }\n    </style>\n    <slot></slot>\n  ");const n=(n,{tag:s,is:o})=>{const a=globalThis.document?.createElement(s,{is:o}),r=a?function(t){let e=[];for(let i=Object.getPrototypeOf(t);i&&i!==HTMLElement.prototype;i=Object.getPrototypeOf(i))e.push(...Object.getOwnPropertyNames(i));return e}(a):[];return class l extends n{static Events=t;static template=s.endsWith("audio")?e:i;static#t;static get observedAttributes(){l.#e();return[...a?.constructor?.observedAttributes??[],"autopictureinpicture","disablepictureinpicture","disableremoteplayback","autoplay","controls","controlslist","crossorigin","loop","muted","playsinline","poster","preload","src"]}static#e(){if(this.#t)return;this.#t=!0;const t=new Set(this.observedAttributes);t.delete("muted");for(let e of r){if(e in this.prototype)continue;if("function"==typeof a[e])this.prototype[e]=function(...t){this.#i();return(()=>this.call?this.call(e,...t):this.nativeEl[e].apply(this.nativeEl,t))()};else{let i={get(){this.#i();let i=e.toLowerCase();if(t.has(i)){const t=this.getAttribute(i);return null!==t&&(""===t||t)}return this.get?.(e)??this.nativeEl?.[e]}};e!==e.toUpperCase()&&(i.set=function(i){this.#i();let n=e.toLowerCase();t.has(n)?!0===i||!1===i||null==i?this.toggleAttribute(n,Boolean(i)):this.setAttribute(n,i):this.set?this.set(e,i):this.nativeEl[e]=i}),Object.defineProperty(this.prototype,e,i)}}}#n;#s;constructor(){super(),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.append(this.constructor.template.content.cloneNode(!0)))}get nativeEl(){return this.#s??this.shadowRoot.querySelector(s)??this.querySelector(s)}set nativeEl(t){this.#s=t}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(t){this.toggleAttribute("muted",Boolean(t))}get src(){return this.getAttribute("src")}set src(t){this.setAttribute("src",`${t}`)}get preload(){return this.getAttribute("preload")??this.nativeEl?.preload}set preload(t){this.setAttribute("preload",`${t}`)}#i(){if(this.#n)return;if(this.#n=!0,!this.nativeEl){const t=document.createElement(s,{is:o});t.part=s,this.shadowRoot.append(t)}this.nativeEl.muted=this.hasAttribute("muted");for(let t of r)this.#o(t);const t=new Map,e=this.shadowRoot.querySelector("slot:not([name])");e?.addEventListener("slotchange",(()=>{const i=new Map(t);e.assignedElements().filter((t=>["track","source"].includes(t.localName))).forEach((e=>{i.delete(e);let n=t.get(e);n||(n=e.cloneNode(),t.set(e,n)),this.nativeEl.append?.(n)})),i.forEach((t=>t.remove()))}));for(let t of this.constructor.Events)this.shadowRoot.addEventListener?.(t,(t=>{t.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(t.type,{detail:t.detail}))}),!0)}#o(t){if(Object.prototype.hasOwnProperty.call(this,t)){const e=this[t];delete this[t],this[t]=e}}attributeChangedCallback(t,e,i){this.#i(),this.#a(t,e,i)}#a(t,e,i){["id","class"].includes(t)||(null===i?this.nativeEl.removeAttribute?.(t):this.nativeEl.setAttribute?.(t,i))}connectedCallback(){this.#i()}}};const s=globalThis.document?n(HTMLElement,{tag:"video"}):class{},o=globalThis.document?n(HTMLElement,{tag:"audio"}):class{};export{o as CustomAudioElement,n as CustomMediaMixin,s as CustomVideoElement,t as Events,e as audioTemplate,i as videoTemplate};export default null;
//# sourceMappingURL=/sm/ff70272dc48657c1ba3e433cd8c066d4995739b1e352fbf16838fb0725d30ed4.map